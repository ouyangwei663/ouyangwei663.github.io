(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{778:function(t,s,a){"use strict";a.r(s);var e=a(52),_=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"问题区-todolist"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#问题区-todolist"}},[t._v("#")]),t._v(" 问题区 ＆ Todolist")]),t._v(" "),a("ul",[a("li",[a("a-checkbox",{attrs:{checked:""}},[t._v(" 1.DNS 查询（域名解析）")])],1),t._v(" "),a("li",[a("a-checkbox",{attrs:{checked:""}},[t._v(" 2.TCP 连接（3 次握手）")])],1),t._v(" "),a("li",[a("a-checkbox",{attrs:{checked:""}},[t._v("3.发送 http 请求")])],1),t._v(" "),a("li",[a("a-checkbox",{attrs:{checked:""}},[t._v("4.Server 处理 HTTP 请求并返回 HTTP 报文")])],1),t._v(" "),a("li",[a("a-checkbox",{attrs:{checked:""}},[t._v("5.浏览器解析并 render 页面")])],1),t._v(" "),a("li",[a("a-checkbox",{attrs:{checked:""}},[t._v("6.http 断开")])],1)]),t._v(" "),a("h2",{attrs:{id:"一、dns-查询-域名解析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、dns-查询-域名解析"}},[t._v("#")]),t._v(" 一、DNS 查询（域名解析）")]),t._v(" "),a("p",[t._v("所谓 DNS 域名解析过程，就是将域名，例如 www.baidu.com，解析为 IP 地址的过程。先简单介绍下 URL。所谓的 URL（Uniform Resource Locator），中文名统一资源定位符，用于定位互联网上的资源。简单来说，就是人们常说的网址。当我们在浏览器中输入一个网址的时候，浏览器就会对该网址进行 DNS 解析还获取其对应的 ip 地址，而这个 ip 地址，才是资源实际存在的地址。\n​")]),t._v(" "),a("h2",{attrs:{id:"二、tcp-连接-3-次握手"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、tcp-连接-3-次握手"}},[t._v("#")]),t._v(" 二、TCP 连接（3 次握手）")]),t._v(" "),a("p",[t._v("简单来说 TCP 是一种面向连接的、可靠的、基于字节流的通信协议")]),t._v(" "),a("h3",{attrs:{id:"_1-客户端发送有待带有-syn-1-seq-x-的-syn-包到服务器-并进入到-syn-send-状态-等待服务器确认。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-客户端发送有待带有-syn-1-seq-x-的-syn-包到服务器-并进入到-syn-send-状态-等待服务器确认。"}},[t._v("#")]),t._v(" 1.客户端发送有待带有 SYN=1，Seq=x 的 syn 包到服务器，并进入到 SYN_SEND 状态，等待服务器确认。")]),t._v(" "),a("h3",{attrs:{id:"_2-服务器收到-syn-包后-必须确认客户的-syn-ack-x-1-同时发送一个自己的-syn-seq-k-包给客-户端-即-syn-ack-包-同时服务器进入到-syn-recv-状态。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-服务器收到-syn-包后-必须确认客户的-syn-ack-x-1-同时发送一个自己的-syn-seq-k-包给客-户端-即-syn-ack-包-同时服务器进入到-syn-recv-状态。"}},[t._v("#")]),t._v(" 2.服务器收到 syn 包后，必须确认客户的 SYN（ack=x+1），同时发送一个自己的 SYN（seq=k）包给客 户端（即 SYN+ACK 包），同时服务器进入到 SYN_RECV 状态。")]),t._v(" "),a("h3",{attrs:{id:"_3-客户端收到服务器的-syn-ack-包后-向服务器发一个确认包-ack-k-1-这些包发送完毕后-客户端和服务器同时进入到-established-状态-完成三次握手。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-客户端收到服务器的-syn-ack-包后-向服务器发一个确认包-ack-k-1-这些包发送完毕后-客户端和服务器同时进入到-established-状态-完成三次握手。"}},[t._v("#")]),t._v(" 3.客户端收到服务器的 SYN+ACK 包后，向服务器发一个确认包 ACK（k+1），这些包发送完毕后，客户端和服务器同时进入到 ESTABLISHED 状态，完成三次握手。")]),t._v(" "),a("p",[t._v("注意："),a("strong",[t._v("tcp 在握手过程中并不携带任何数据，而是在三次握手完成之后，才会进行数据的传递")])]),t._v(" "),a("h3",{attrs:{id:"为什么要-3-次握手"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为什么要-3-次握手"}},[t._v("#")]),t._v(" 为什么要 3 次握手")]),t._v(" "),a("p",[t._v("可以这样理解，客户端发起了一个连接请求，但是因为一些原因请求并未及时传递到服务器。而客户端因为长时间收不到服务器的就认为本地连接请求失败，然后就去做别的事了。而过了一段时间，之前的请求到达了服务器，服务器收到请求进行一系列操作后返回给客户端并等待客户端的响应。而此时客户端已经去做别的事情了，根本不会对本次响应做出回答，而服务器那边就一直等啊等，等啊等.......这样就造成了服务器端的资源浪费，所以我们需要三次而不是两次。这样服务器如果在一定时间内没收到客户端的回答，那么就放弃等待，自己也去干别的事了。\n​")]),t._v(" "),a("h2",{attrs:{id:"三、发送-http-请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、发送-http-请求"}},[t._v("#")]),t._v(" 三、发送 HTTP 请求")]),t._v(" "),a("p",[t._v("请求报文包含三部分：请求行，请求头，请求主体。服务器收到请求后处理请求，并返回响应报文数据。响应报文包含三部分：响应行，响应头，响应主题。")]),t._v(" "),a("h2",{attrs:{id:"四、浏览器解析并渲染页面"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、浏览器解析并渲染页面"}},[t._v("#")]),t._v(" 四、浏览器解析并渲染页面")]),t._v(" "),a("p",[t._v("浏览器在接收到服务器返回的 HTML 文件后，会对其进行 HTML 解析。\nHTML 解析是浏览器的 HTML 解析器把 HTML 解析成 DOM TREE。生成 dom 并渲染到页面\n​")]),t._v(" "),a("h2",{attrs:{id:"五、断开-http-连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五、断开-http-连接"}},[t._v("#")]),t._v(" 五、断开 http 连接")]),t._v(" "),a("p",[t._v("在数据传输完毕后，需要断开 tcp 连接，此时会发起 tcp 四次挥手。")]),t._v(" "),a("ul",[a("li",[t._v("浏览器向服务器发送报文（Fin=1，Ack=z，Seq=x），表示客户端请求报文已经发送完了，准备关闭了。并进入到 FIN_WAIT_1 状态。")]),t._v(" "),a("li",[t._v("服务器收到客户端的断开请求后，发送确认报文（Ack=x+1，Seq=z），表示统一关闭。此时主机进入 FIN_WAIT_2 状态。")]),t._v(" "),a("li",[t._v("服务器在发送完数据以后，也会向客户端发送断开连接的报文（Fin=1，Ack=x，Seq=y），表示我没有响应数据要传了，准备关闭了。此时进入到 LAST_ACK 状态")]),t._v(" "),a("li",[t._v("客户端收到服务器的关闭请求后，会发送一个确认报文（Ack=y+1，Seq=x），表示同意关闭。服务器收到客户单的确认报文后关闭连接。而浏览器在等待一段时间后未收到回复，则正常关闭。")])]),t._v(" "),a("p",[t._v("​")]),t._v(" "),a("p",[t._v("​")]),t._v(" "),a("p",[t._v("​")]),t._v(" "),a("p",[t._v("​")])])}),[],!1,null,null,null);s.default=_.exports}}]);